syntax = "proto3";

message Message {
  bytes payload = 1;
  map<string, bytes> headers = 2;
}

service MessagingService {
  rpc biStream(stream Message) returns (stream Message){}
  rpc clientStream(stream Message) returns (Message){}
  rpc serverStream(Message) returns (stream Message){}
  rpc requestReply(Message) returns (Message){}
}